package util;

import org.springframework.http.ResponseEntity;
import org.springframework.http.client.HttpComponentsClientHttpRequestFactory;
import org.springframework.web.client.RestTemplate;

import java.net.URI;
import java.util.HashMap;
import java.util.Map;

public class RedirectingHttpClient {

    private final RestTemplate restTemplate;

    public RedirectingHttpClient() {
        // Disable auto-redirect so we can manually handle it
        this.restTemplate = new RestTemplate(new HttpComponentsClientHttpRequestFactory());
    }

    public String postAndFollowRedirect(String baseUrl) {
        String postUrl = baseUrl + "/submit";

        // POST body
        Map<String, String> request = new HashMap<>();
        request.put("name", "John");

        // Make POST call
        ResponseEntity<Void> response = restTemplate.postForEntity(postUrl, request, Void.class);

        if (response.getStatusCode().is3xxRedirection()) {
            URI redirectUri = response.getHeaders().getLocation();

            if (redirectUri != null) {
                // Absolute redirect if needed
                String getUrl = redirectUri.isAbsolute() ? redirectUri.toString() : baseUrl + redirectUri.toString();
                return restTemplate.getForObject(getUrl, String.class);
            }
        }

        return "No redirect occurred.";
    }

    public static void main(String[] args) {
        RedirectingHttpClient client = new RedirectingHttpClient();
        String result = client.postAndFollowRedirect("http://localhost:8080");
        System.out.println(result);
    }
}

===================================

    @PostMapping("/submit")
    public ResponseEntity<Void> submitData() {
        // Here you might process the data...
        URI redirectUri = URI.create("https://dummy.restapiexample.com/api/v1/employees");
        return ResponseEntity.status(HttpStatus.SEE_OTHER)
                .location(redirectUri)
                .build();
    }

================
		<dependency>
			<groupId>org.apache.httpcomponents</groupId>
			<artifactId>httpclient</artifactId>
		</dependency>
