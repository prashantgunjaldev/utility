import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;
import org.mockito.Mockito;
import org.springframework.test.util.ReflectionTestUtils;

import static org.junit.jupiter.api.Assertions.*;

class BbgConfigTest {

    private BbgConfig config;

    @BeforeEach
    void setUp() {
        config = new BbgConfig();
        ReflectionTestUtils.setField(config, "proxyHost", "my-proxy-host");
        ReflectionTestUtils.setField(config, "proxyPort", 8888);
        ReflectionTestUtils.setField(config, "proxyUsername", "user1");
        ReflectionTestUtils.setField(config, "proxyPassword", "pass1");
        ReflectionTestUtils.setField(config, "requestTimeout", 10);
        ReflectionTestUtils.setField(config, "blobStorageLZName", "lzcontainer");
        ReflectionTestUtils.setField(config, "clientId", "test-client-id");
    }

    @Test
    void testWebClientWithProxy_NotNull() {
        var webClient = config.webClientWithProxy();
        assertNotNull(webClient);
    }

    @Test
    void testBlobServiceClient_NotNull() {
        var blobServiceClient = config.blobServiceClient();
        assertNotNull(blobServiceClient);
    }

    @Test
    void testGetDefaultAzureCredential_NotNull() {
        var credential = config.getDefaultAzureCredential();
        assertNotNull(credential);
    }
}
